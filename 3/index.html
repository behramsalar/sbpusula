
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../2/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.2">
    
    
      
        <title>Preprocessing - Ön İşlemleme - fMRG - Sinirbilim Pusulası 2024</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d451bc0e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a5377069.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#preprocessing-on-islemleme" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="fMRG - Sinirbilim Pusulası 2024" class="md-header__button md-logo" aria-label="fMRG - Sinirbilim Pusulası 2024" data-md-component="logo">
      
  <img src="../pngegg.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            fMRG - Sinirbilim Pusulası 2024
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Preprocessing - Ön İşlemleme
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="fMRG - Sinirbilim Pusulası 2024" class="md-nav__button md-logo" aria-label="fMRG - Sinirbilim Pusulası 2024" data-md-component="logo">
      
  <img src="../pngegg.png" alt="logo">

    </a>
    fMRG - Sinirbilim Pusulası 2024
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fonksiyonel Bağlantısallık nedir?
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fMRG çalışması için analiz basamakları nelerdir?
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Preprocessing - Ön İşlemleme
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Preprocessing - Ön İşlemleme
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anatomik-ve-fonksiyonel-datann-hazrlk-basamaklar" class="md-nav__link">
    Anatomik ve Fonksiyonel datanın hazırlık basamakları
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anatomik-datann-on-islemlemesi" class="md-nav__link">
    Anatomik datanın ön işlemlemesi
  </a>
  
    <nav class="md-nav" aria-label="Anatomik datanın ön işlemlemesi">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fonksiyonel-datann-on-islemlenmesi" class="md-nav__link">
    Fonksiyonel datanın ön işlemlenmesi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feat" class="md-nav__link">
    FEAT
  </a>
  
    <nav class="md-nav" aria-label="FEAT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#artefact-temizleme" class="md-nav__link">
    Artefact temizleme
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fonksiyonel-datann-non-linear-registration" class="md-nav__link">
    Fonksiyonel datanın Non-linear registration'ı
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grup-analizi-deney-dizayn-ve-glm" class="md-nav__link">
    Grup Analizi - Deney Dizaynı ve GLM
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="preprocessing-on-islemleme">Preprocessing - Ön İşlemleme</h1>
<p>fMRG datasının ön işlemlemesinin en temel amacı, datadan <em>çalışmamızla ilgili olmayan</em> kısımları çıkarmak ve grup analizi için her bir datanın belli bir standartta olmasını sağlamaktır.</p>
<p>Örnek olarak; Bir fMRG çalışmasındaki MR çekimi her ne kadar beyne odaklansa da bir çok çevre dokuyu da içine alır. Gözler, ağız, burun, boyun, kafatası, beyin zarları vs gibi çevredeki bir çok anatomik yapı görüntünün içinde yer alacaktır. Ancak çoğu zaman çalışmalarımız beyin harici bir dokuyu içermiyor olacaktır. Bu sebeple bu kısımların varlığı çalışma için <em>gereksizdır</em>. Yalnızca beyin dokusu kalacak şekilde diğer dokuların datadan temizlenmesi brain extraction dediğimiz ön işlemleme adımlarından biridir.  </p>
<p>Veya başka bir örnek olarak; fonksiyonel çekim esnasında katılımcılar cihaz içinde hareket edebilirler. Bu hareket datanın içinde beynin belli bir bölgesinin denk geldiği koordinatların değişmesine sebep olur. Başka bir deyişle bir voxel çekimin 2.dakikasında frontal korteksten bir kısmı içeriyorken, 3.dakikada hareketten dolayı boş alanı içeriyor olabilir. Biz analiz esnasında o voxeldeki BOLD sinyal değişimini takip edip frontal kortekste bir aktivite farkı varmı görmek istiyorsak bu hareketin düzeltilmesi gerekir. Bu düzeltme de yine ön işlemleme adımlarından biri olan Motion correction'dır.</p>
<h2 id="anatomik-ve-fonksiyonel-datann-hazrlk-basamaklar">Anatomik ve Fonksiyonel datanın hazırlık basamakları</h2>
<ul>
<li>Brain extraction</li>
<li>Registration </li>
<li>Motion correction</li>
<li>Distortion correction</li>
<li>Independent Component Classification</li>
<li>Artefact rejection</li>
</ul>
<p>MRG datalarımızın analizi için FSL yazılım paketini kullanacağız. FSL yazılım paketi SPM ile birlikte akademik camiada en sık kullanılan MR analiz programıdır. SPM yerine FSL tercihimizin sebebi MATLAB gibi lisans gerektiren bir platform yerine ücretsiz bir şekilde kolayca çalıştırılabiliyor olmasıdır.</p>
<p><img alt="fsl" src="../fsl.png" title="DMN" /></p>
<p>Şimdi sırasıyla teker teker yapılması gereken işlemlere detaylı bir şekilde bakalım.   </p>
<h2 id="anatomik-datann-on-islemlemesi">Anatomik datanın ön işlemlemesi</h2>
<p>Bir fMRG çalışmasında her ne kadar fonksiyonel sekans birincil öneme sahip olsa da t1 ağırlıklı anatomik sekans da gyrus, sulcus ve derin beyin çekirdeklerinin yüksek çözünürlüklü lokalizasyonunu içerdiği için çok büyük öneme sahiptir.<br />
Anatomik datanın ön işlemlemesinde en önemli adım beyin dokusu dokuların ayrıştırılıp bias correction yapılmasıdır. </p>
<p>FSL'de fsl_anat isimli script anatomik datanın tüm analizlerini yapar. Bu script input olarak t1 ağırlıklı anatomik datayı ister ve output olarak da .anat ile biten bir klasör verir. Bu klasör içinde Gri madde, ak madde, ve BOS segmentasyonu sonuçları, brain extraction için kullanılan maske, anatomik datanın standart space'e oturtulmuş hali gibi çok sayıda başka analizlerde de kullanılabilecek veriler verir. Script'in çalışma süresi bilgisayardan bilgisayara değişmek üzere 25-45dk arası değişebilir.</p>
<p>Bu analiz sonucunda T1_biascorr_brain isimli dosyayı tekrar kullanacağız.  </p>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>fsl_anat<span class="w"> </span>-i<span class="w"> </span>sb01_t1w.nii.gz
</span></code></pre></div>
<img alt="anat" src="../anat.png" /></p>
<p>Kullanacağımız T1_biascorr_brain isimli dosyaya bir göz atalım.  </p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>fsleyes sb01_t1w.anat/T1_biascorr_brain
</span></code></pre></div>
<p><img alt="anat" src="../anatsonuc.png" /></p>
<p>Gördüğümüz gibi beyin dokusu harici dokuların tamamı datadan atılmış durumda. </p>
<h3 id="fonksiyonel-datann-on-islemlenmesi">Fonksiyonel datanın ön işlemlenmesi</h3>
<h3 id="feat">FEAT</h3>
<p>Fonksiyonel datanın ön işlemlenmesinde FSL yazılım paketinin FEAT aracını kullanacağız. Bu aracı komut satırından Feat veya Feat_gui yazıp enterlayarak çağırabiliriz.
<img alt="feat" src="../feat.png" /></p>
<p>Burada öncelikle ön işlemleme yapmak istediğimiz için sağ üst kısımdan preprocessing'i seçeceğiz.</p>
<p>Select 4D data tuşuna basıp fonksiyonel datamızı seçeceğiz. Doğru datayı seçtiğimiz takdirde önceden bildiğimiz gibi 120 volume ve 2 saniye TR olan bir data seçildiğini görebiliriz.</p>
<p>Bu ilk ekranda sinyal için bir high-pass filtre koyabiliriz ve datanın ilk birkaç volume'ünü silebiliriz. Ben genel olarak katılımcının sekans başladıktan sonra ilk birkaç saniye hareket etmesi vb ihtimalleri göz önünde bulundurarak yaklaşık 10 saniyelik bir kısmı atmayı tercih ediyorum. Bu da bir volume 2 saniye diye düşünürsek 5 volume oluyor. <br />
<em>Burada önemli bir nokta olarak şunu belirtmek gerekiyor. Eğer dinlenim durumu değil task çalışacaksanız bu volumelerın çıkarılması deney dizaynınızı major bir şekilde bozacaktır.</em></p>
<p>Pre-stats sekmesine geçince şu seçenekleri görüyoruz.
<img alt="feat" src="../feat2.png" /></p>
<p>Burada daha önce bahsettiğimiz birkaç ön işlememe adımını tek bir pencerede görüyoruz.
- Data için hareket düzeltmesi, yani motion correction, FSL'in MCFLIRT isimli bir algoritması tarafından yapılacak.
- b0 unwarping seçeneği manyetik alan inhomojenitesi kaynaklı bozuklukların düzeltmesi için fieldmap datalarını kullanacak.
- Spatial smoothing datayı bir miktar blurlayarak yumuşatacak. 
- MELODIC ise fonksiyonel datayı independent componentlere bölecek.</p>
<p>Spatial smoothing genel bir kural olarak voxel boyutunun 1.5 katı civarı seçilebilir. Ancak burada önemli bir detay mevcut. Uygulayacağımız smoothing sonuç görmeyi beklediğimiz alanın ya da hipotezde araştırdığımız alanın boyutundan daha büyük olmamalıdır. </p>
<p>Son olarak da Registration sekmesine geçince şu seçenekleri göreceğiz.
<img alt="feat" src="../feat3.png" /></p>
<p>Daha önce her bir datanın grup analizi için belli bir standartta olması gerektiğinden bahsetmiştik.<br />
Bir çalışmada örnek olarak iki grup arasında Broca alanındaki aktiviteleri kıyaslayacak isek, iki gruptaki her katılımcının datasında inferior frontal gyrus'un aynı koordinatlardaki voxellerde olması gerekir.<br />
Bu standardizasyon registration dediğimiz çakıştırma adımı ile yapılır. Her bir data evrensel bir standart olan MNI152 standart düzlemle çakıştırılabilir veya çalışma için bir ortalama düzlem taslağı oluşturulup onunla çakıştırılabilir.</p>
<p>Temel olarak iki farklı çakıştırma/registration yöntemi vardır. Linear ve Non-linear registration.  </p>
<p>Linear registrationda beyin 3 boyutlu düzlemde rotasyon yapabilir, boyu eni uzatılıp kısaltılarak standart düzleme oturtulabilir. Ancak bu yöntemle beyin şeklinden kaynaklanan farklılıklar tamamen kompanse edilemez. </p>
<p>Non-linear registration ile her bir voxele belli bir açıyla yön verilip taslak düzleme buruşuk bir şişenin içine balon şişirirmiş gibi birebir çakıştırma yapılır.  </p>
<p><img alt="reg" src="../reg.png" />
MNI152-LinearReg-NonlinearReg</p>
<p>Bu pencerede biz fonksiyonel datamızı evrensel standart düzlem olan MNI152 düzlemi ile registration yapmak istiyoruz. Ancak fonksiyonel data, sekansın özelliklerinden dolayı bu çakıştırmayı yapacak yeterlilikte anatomik detay içermez. Bu sebeple fonksiyonel data katılımcının kendi anatomik datasıyla çakıştırılır. Sonra bu anatomik data sayesinde fonksiyonel datayı da MNI152 standart düzleme çakıştırmak için gerekli matriksler elde edilir. </p>
<p>Bütün bu ayarları yaptıktan sonra sol alttakı <strong>'Go'</strong> tuşuna basılır ve bu işlem de yaklaşık 30dk civarı sürer. İşlem tamamlandıktan sonra output olarak elimizde <strong>.feat</strong> ile biten bir klasör olacaktır. </p>
<h4 id="artefact-temizleme">Artefact temizleme</h4>
<p>Fonksiyonel MRG datası daha önce bir kısmından bahsettiğimiz gerçek sinyal olmayan noise dediğimiz istenmeyen artefaktları içerecektir.
- Hareket artefaktları
- Pulsasyondan kaynaklanan fizyolojik artefaktlar
- Manyetik alan inhomojenitesi kaynaklı artefaktlar</p>
<p>Datada görebileceğimiz artefakt çeşitlerindendir.   </p>
<p>Bir önceki aşamada FEAT arayüzünde tiklediğimiz MELODIC seçeneği fonksiyonel datamızda independent component keşfi yapmıştı. </p>
<blockquote>
<p><em><strong>Independent Component Analizi nedir?</strong> <br />
Independent Component exploration ile, fonksiyonel data içinde karakteri birbirinden farklı bütün bold sinyalleri birbirinden ayrılır. Böylece gerçek dinlenim durumu sinyali karakterine sahip sinyaller ile artefaktlar birbirlerinden ayırt edilebilir. Aynı zamanda farklı networkler de bu şekilde gözlemlenebilir.</em></p>
</blockquote>
<p>MELODIC sonrasında birbirinden ayrı komponentleri gözlemleyip artefaktları işaretleyeceğiz. Daha sonrasında işaretlediğimiz artefaktları datadan ayıklayacağız.</p>
<p>Bunun için komut satırına şu komutu girmemiz gerekiyor.</p>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>fsleyes<span class="w"> </span>--scene<span class="w"> </span>melodic<span class="w"> </span>sb01_t1w.anat/T1_biascorr_brain<span class="w"> </span>sb01_resting.feat/filtered_func_data.ica/melodic_IC<span class="w"> </span>-dr<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">25</span><span class="w"> </span>-cm<span class="w"> </span>red-yellow<span class="w"> </span>-nc<span class="w"> </span>blue-lightblue
</span></code></pre></div>
Bu komut ile temizlenmiş anatomik datayı arkaplan olarak kullanarak farklı komponentlerdeki sinyallerin hangilerinin artefakt hangilerinin sinyal olduğunu gözlemleyebiliriz.</p>
<p>Burada artefakt ayıklamada bize en yardımcı olacak husus dinlenim durumu ağlarının BOLD sinyal karakterleri. Bu sinyaller rekans olarak 0-0.1 aralığında beklenir. Daha yüksekte görülen sinyallerin artefaktlardan kaynaklandığını düşünebiliriz.</p>
<p><img alt="sinyal" src="../sinyal.png" />
<img alt="hareket" src="../hareket.png" /></p>
<p>Resimlerde görüldüğü gibi bu komut bize 30 küsür adet komponenti sağda liste olarak gösteriyor ve bu komponentleri işaretlememizi sağlıyor. Her komponenti tek tek sinyal veya noise olarak işaretledikten sonra 'Save labels' seçeneğine tıklayıp etiketlerimizi labels.txt isimli bir dosyaya kaydedelim.</p>
<p>Bir sonraki aşamada ayıklamak için işaretlediğimiz artefakt içeren komponentleri datadan çıkaracağız. Bunun için yine FSL yazılım paketinde yer alan fsl_regfilt komutunu kullanacağız.</p>
<p>fsl_regfilt komutu input olarak .feat klasöründen bir kısım dosya ve hangi ayıklanmak için işaretlediğimiz komponentlerin datadaki sırasını istiyor. Output olarak da temizlenmiş datayı veriyor.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>fsl_regfilt<span class="w"> </span>-i<span class="w"> </span>sb01_resting.feat/filtered_func_data<span class="w"> </span>-d<span class="w"> </span>sb01_resting.feat/filtered_func_data.ica/melodic_mix<span class="w"> </span>-f<span class="w"> </span><span class="s1">&#39;3, 5&#39;</span><span class="w"> </span>-o<span class="w"> </span>sb01_resting.feat/filtered_func_data_clean
</span></code></pre></div>
<p><img alt="regfilt" src="../regfilt.png" /></p>
<p>Bu adım yaklaşık 1 dk içinde tamamlanacaktır.</p>
<h3 id="fonksiyonel-datann-non-linear-registration">Fonksiyonel datanın Non-linear registration'ı</h3>
<p>Grup analizi öncesi son adım olarak artefakttan temizlenmiş datayı MNI152 standart düzlemine non-linear olarak çakıştıracağız.</p>
<p>Hatırlarsanız FEAT adımında bu çakıştırma için gerekli matrixleri üretmiştik. Bu matrixleri kullanarak FSL'in <em>applywarp</em> scripti ile bu son çakıştırmayı yapıp datayı grup analizine hazır hale getireceğiz.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>applywarp<span class="w"> </span>-r<span class="w"> </span>sb01_resting.feat/reg/standard.nii.gz<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span>-i<span class="w"> </span>sb01_resting.feat/filtered_func_data_clean.nii.gz<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span>-o<span class="w"> </span>sb01_resting.feat/filtered_func_data_clean_standard.nii.gz<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span>--premat<span class="o">=</span>sb01_resting.feat/reg/example_func2highres.mat<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span>-w<span class="w"> </span>sb01_resting.feat/reg/highres2standard_warp.nii.gz
</span></code></pre></div>
<p>Bu komut input olarak temizlenmiş fonksiyonel datayı, standart düzlemi ve bahsettiğimiz matrixleri alıp output olarak MNI152 standart düzleme oturtulmuş fonksiyonel datayı verecek.</p>
<p>Bu basamak da bilgisayarınızın hızına göre değişmekle beraber yaklaşık 30dk sürecektir.</p>
<h2 id="grup-analizi-deney-dizayn-ve-glm">Grup Analizi - Deney Dizaynı ve GLM</h2>
<p>Deneyimizdeki her katılımcının MRG datası için ön işlemleme adımlarını yapıp grup analizine hazırladıktan sonra grup analizine geçebiliriz.</p>
<p>Dersin bu kısmına kadar tek kişinin datasıyla çalıştığımız için grup analizinden yalnızca teorik olarak bahsedeceğiz.</p>
<p>Grup analizinde en önemli kısım hipotezinizi test edebileceğiniz bir deney dizaynı oluşturmak olacaktır. Bu dizaynı MRG analizinde kullanmak için dönüştürmek için FSL'in GLM adlı aracını kullanabilirsiniz. GLM ile ilgili detaya girmeyeceğiz ancak şu linkten deneyinize uygun şekilde nasıl bir dizayn oluşturabilireceğinizin örneklerini görebilirsiniz.</p>
<p>https://fsl.fmrib.ox.ac.uk/fsl/docs/#/statistics/glm</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024 <a href="https://github.com/behramsalar"  
target="_blank" rel="noopener">Ali Behram Salar</a>
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["toc.follow", "toc.integrate", "content.code.copy", "content.code.annotate", "navigation.expand"], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.726fbb30.min.js"></script>
      
    
  </body>
</html>